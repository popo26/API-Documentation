(()=>{"use strict";function e(e,t){let n=[];if(document.querySelector(`.p${e}${t}`)){const r=document.querySelectorAll(`.p${e}${t}`);for(let e=0;e<r.length;e++){const t=r[e].value;n.push(t)}return n}}function t(){const e=document.querySelector(".scheme-btn");return e.innerText.search("Scheme")?`${e.innerText}://`:"http://"}function n(e,t,n){return document.querySelector(`.resultStatus${t}${n}`).innerText=`Response Code: ${e.status}`,e.json()}function r(e,t,n){const r=document.querySelector(`.result${e}${n}`);r.style.display="block",t.length?r.innerHTML=`<p><strong>Data length: ${t.length}</strong></p><pre>`+JSON.stringify(t,void 0,2)+"</pre>":r.innerHTML="<pre>"+JSON.stringify(t,void 0,2)+"</pre>",r.style.fontSize="14px"}function o(e,t,n){const r=document.querySelector(`.result${t}${n}`);console.error(e),r.style.display="block",r.innerHTML="ERROR: error",r.style.fontSize="16px"}function s(s){const c=document.getElementById("each-route-template").content.cloneNode(!0),l=Object.values(Object.values(s)[0])[0],u=l.parameters,a=Object.keys(Object.values(s)[0]),i=Object.keys(s)[0],d=function(e){let t=[];for(let n in e)"/"==e[n]||"}"==e[n]||"{"==e[n]||":"==e[n]?e[n].replace(e[n],""):t.push(e[n]);return t.join("")}(i),$=l.responses;let p=0;!function(e,t,n,r,o){const s=t,c=o,l=n;s.setAttribute("id",`${e}${r}`),s.setAttribute("data-bs-parent",`#id${e}${r}`),l.setAttribute("data-bs-target",`#${e}${r}`),l.setAttribute("aria-controls",`${e}${r}`),c.setAttribute("id",`id${e}${r}`)}(d,c.querySelector("#collapseOne"),c.querySelector(".route-header"),a,c.querySelector("#accordionExample"));const y=c.querySelector(".route-http-method"),h=c.querySelector(".route-header");c.querySelector(".route-header").innerText=i,c.querySelector(".route-tags").innerText=l.tags;const m=`<span class="http-method-span">${a[0].toUpperCase()}</span>`;h.insertAdjacentHTML("afterbegin",m),c.querySelector(".http-method-span").classList.add(`span${a[0]}${d}`);const S=c.querySelector(`.span${a[0]}${d}`);"post"==a[0]?S.classList.add("post"):"put"==a[0]?S.classList.add("put"):"delete"==a[0]?S.classList.add("delete"):S.classList.add("get");const f=c.querySelector(".route-http-code");for(let e in $){const t=document.createElement("li");t.classList.add(`httpCode${d}${e}`),t.innerHTML=`<code>${e}</code>: ${Object.values($[e])}`,f.appendChild(t)}c.querySelector(".route-summary").innerText=l.summary,c.querySelector(".route-id").innerText=d,y.classList.add(`httpMethod${d}${a}`),c.querySelector(".try-out-btn").classList.add(`try${d}${a}`),c.querySelector(".run-btn").classList.add(`run${d}${a}`),c.querySelector(".run-message").classList.add(`runMsg${d}${a}`),c.querySelector(".route-param-div").classList.add(`paramDiv${d}${a}`),c.querySelector(".route-result").classList.add(`result${d}${a}`),c.querySelector(".route-result-status-code").classList.add(`resultStatus${d}${a}`),p=function(e,t,n,r,o){if(t){for(let s in t){e++;const c=document.createElement("input");c.type="text",c.placeholder=`${t[s].name}`,c.name=`name${r}${e}${o}`,c.classList.add(`p${r}${o}`),c.classList.add(`eachp${r}${e}${o}`),c.classList.add(`${t[s].in}`);const l=document.createElement("h6"),u=document.createTextNode(`${t[s].in}`),a=document.createElement("label");a.style.display="block",a.innerText=`${t[s].description}:`,l.appendChild(u),1==t[s].required&&(c.setAttribute("required",""),c.style.borderColor="red",a.classList.add("add-required")),n.appendChild(a),n.appendChild(c),n.appendChild(l)}return e}}(p,u,c.querySelector(".route-parameters"),d,a),function(e,t,n){t.addEventListener("click",(function(){const t=document.querySelector(`.run${e}${n}`),r=document.querySelector(`.runMsg${e}${n}`),o=document.querySelector(`.try${e}${n}`),s=document.querySelector(`.result${e}${n}`),c=document.querySelector(`.paramDiv${e}${n}`),l=document.querySelector(`.resultStatus${e}${n}`),u=document.querySelector(`.p${e}${n}`);"block"===t.style.display?(r.style.display="none",o.innerText="Try Out",t.style.display="none",s.style.display="none",s.innerHTML="",c.style.backgroundColor="#ffffff",l.style.display="none",u&&(u.value="")):(t.style.display="block",o.innerText="Cancel",r.style.display="block",r.innerText=u?"Enter parameters and click Run":"Click Run")}))}(d,c.querySelector(`.try${d}${a}`),a),function(s,c,l,u,a,i,d){l.addEventListener("click",(function(l){l.preventDefault();const $=document.querySelector(".base-url").innerText,p=document.querySelector(".base-path").innerText;let y;y="/"==p?`${$}${a}`:`${$}${p}${a}`;const h=document.querySelector(`.eachp${s}${u}${d}`),m=document.querySelectorAll(`.p${s}${d}`),S=document.querySelector(`.runMsg${s}${d}`);let f=e(s,d);if(h)if(h.classList.contains("query")){y+="?";for(let e=0;e<m.length;e++){const t=m[e].value;y+=`${m[e].getAttribute("placeholder")}=${t}&`}}else if(h.classList.contains("path")||h.classList.contains("body")){const e=/\{[A-Za-z]+\}/gi,t=a.replace(e,"#");let n=[],r=0;for(let e in t)"#"==t[e]?(n.push(f[r]),r++):n.push(t[e]);y="/"==p?$+n.join(""):$+p+n.join("")}else console.error("Something wrong?");else console.log("No params.");!function(s,c,l,u,a){const i=t(),d={"Content-Type":"application/json"};let $=e(c,a),p={};if("get"===l)fetch(`${i}${s}`).then((e=>n(e,c,a))).then((e=>{r(c,e,a)})).catch((e=>{o(e,c,a)}));else if("post"===l){for(let e in u)p[u[e].name]=$[e];fetch(`${t()}${s}`,{method:"POST",headers:d,body:JSON.stringify(p)}).then((e=>n(e,c,a))).then((e=>{r(c,e,a)})).catch((e=>{o(e,c,a)}))}else if("put"===l){for(let e in u)$[e]&&(p[u[e].name]=$[e]);fetch(`${t()}${s}`,{method:"PUT",headers:d,body:JSON.stringify(p)}).then((e=>n(e,c,a))).then((e=>{r(c,e,a)})).catch((e=>{o(e,c,a)}))}else"delete"===l?fetch(`${t()}${s}`,{method:"DELETE",headers:d}).then((e=>n(e,c,a))).then((e=>{r(c,e,a)})).catch((e=>{o(e,c,a)})):console.error("Not available HTTP methods(GET, POST, PUT, DELETE)")}(y,s,c,i,d),S.style.display="none"}))}(d,a[0],c.querySelector(`.run${d}${a}`),p,i,u,a),document.querySelector("#route-list").appendChild(c)}function c(e){document.querySelector(`.scheme${e}`).addEventListener("click",(function(t){t.preventDefault(),document.querySelector(".scheme-btn").innerText=e.toUpperCase()}))}fetch("../api.json").then((e=>e.json())).then((e=>{var t;t=e,document.querySelector(".project-title").innerText=t.info.title,document.querySelector(".base-url").innerText=`${t.host}`,document.querySelector(".base-path").innerText=`${t.basePath}`,document.querySelector(".sub-title").innerText=t.info.description,function(e){for(let t=0;t<e.schemes.length;t++){const n=document.createElement("li");n.classList.add(`scheme${e.schemes[t]}`),n.innerText=e.schemes[t].toUpperCase(),document.querySelector(".schemes").appendChild(n),c(e.schemes[t])}}(t);const n=e.paths;for(let e of n)s(e)}))})();